!function(){if(chrome&&chrome.runtime){var e=chrome.runtime.getURL(""),n=e.startsWith("chrome-extension:")?"chrome-extension":e.startsWith("moz-extension:")?"moz-extension":null;if(n){var t=document.createElement("input");t.type="hidden",t.id="momentumPlatform",t.value=n,document.body.appendChild(t)}var a=chrome.runtime.getManifest();if(a){var o=document.createElement("input");o.type="hidden",o.id="momentumVersion",o.value=a.version,document.body.appendChild(o)}window.addEventListener("message",function(n){if(n.source===window&&n.data.type){var e=n.data.type;if("momentum:oneTimeLogin"===e){var t=!!n.data.openNewTab,a=!!n.data.updateSenderTab;chrome.runtime.sendMessage({type:"oneTimeLogin",payload:n.data.payload,openNewTab:t,updateSenderTab:a},function(e){window.postMessage({type:"momentum:callback:oneTimeLogin",callbackId:n.data.callbackId,payload:e},window.origin)})}else"momentum:authState"===e&&chrome.runtime.sendMessage(n.data)}},!1)}}();